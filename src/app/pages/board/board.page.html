<ng-container *transloco="let t">

  <ion-header [translucent]="true">

    <ion-toolbar>

      <ion-title> {{ t('board.title') }} </ion-title>

      <ion-buttons slot="end">
        <ion-button *ngIf="isInEditMode" (click)="onClickChangeEditMode()">
          <ion-icon slot="icon-only" name="close"></ion-icon>
        </ion-button>
        <ion-button id="board-options-button">
          <ion-icon slot="icon-only" name="ellipsis-vertical"></ion-icon>
        </ion-button>
      </ion-buttons>
  
      <ion-popover #optionsPopover trigger="board-options-button" [dismissOnSelect]="true">
        <ng-template>
          <ion-content>
            <ion-list>
              <ion-item (click)="onClickAddListToBoard()">
                <ion-label slot="end"> {{ t('board.addListToBoard') }} </ion-label>
              </ion-item>
              <ion-item lines="none" (click)="onClickChangeEditMode()">
                <ion-label slot="end" *ngIf="!isInEditMode"> {{ t('board.modifyBoard') }} </ion-label>
                <ion-label slot="end" *ngIf="isInEditMode"> {{ t('board.stopModifying') }} </ion-label>
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-popover>

    </ion-toolbar>

  </ion-header>
  
  <ion-content>

    <ion-list *ngIf="isAnyListOnBoard">
      <ion-reorder-group (ionItemReorder)="onReorderBoardList($event)" [disabled]="!isInEditMode">
          <ion-item *ngFor="let list of onBoardLists" lines="none">
              <app-board-list [list]="list"></app-board-list>
              <ion-button class="delete-list" color="danger" shape="round" fill="clear" *ngIf="isInEditMode" (click)="onClickShowModal(deleteListModalOptions, list)">
                  <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
              </ion-button>
              <ion-reorder slot="end"></ion-reorder>
          </ion-item>
      </ion-reorder-group>
    </ion-list>

    <app-empty-screen *ngIf="!isAnyListOnBoard"
        [icon]="'albums-outline'"
        [title]="t('emptyScreen.boardTitle')"
        [description]="t('emptyScreen.boardDescription')"
        [buttonLabel]="t('emptyScreen.boardButtonLabel')"
        (clickEventEmitter)="onClickAddListToBoard()">
    </app-empty-screen>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed" *ngIf="isInEditMode">

      <ion-fab-button (click)="onClickAddListToBoard()">
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>

    </ion-fab>

    <app-modal #modal></app-modal>
  
  </ion-content>

</ng-container>
